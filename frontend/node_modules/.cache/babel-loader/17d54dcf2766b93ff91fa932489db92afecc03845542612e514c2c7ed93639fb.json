{"ast":null,"code":"var _jsxFileName = \"E:\\\\Du_An_300tr\\\\frontend\\\\src\\\\components\\\\NghiPhep\\\\DonNghiPhepForm.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Form, Input, DatePicker, TimePicker, Select, Button, Card, message } from 'antd';\nimport { nghiPhepService } from '../../services/nghiPhepService';\nimport { nhanVienService } from '../../services/nhanVienService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DonNghiPhepForm = ({\n  onSuccess\n}) => {\n  _s();\n  const [form] = Form.useForm();\n  const [nhanVienList, setNhanVienList] = useState([]);\n  useEffect(() => {\n    // Gọi API lấy danh sách nhân viên\n    // Giả sử có nhanVienService.getAll()\n    nhanVienService.getAll().then(data => setNhanVienList(data));\n  }, []);\n  const onFinish = async values => {\n    console.log('Submit values:', values);\n    try {\n      const res = await nghiPhepService.create({\n        ...values,\n        ngay_nghi: values.ngay_nghi.format('YYYY-MM-DD'),\n        thoi_gian_bat_dau: values.thoi_gian_bat_dau ? values.thoi_gian_bat_dau.format('HH:mm') : undefined,\n        thoi_gian_ket_thuc: values.thoi_gian_ket_thuc ? values.thoi_gian_ket_thuc.format('HH:mm') : undefined\n      });\n      console.log('Kết quả gửi đơn:', res);\n      if (res.success) {\n        message.success('Gửi đơn thành công!');\n        form.resetFields();\n        onSuccess && onSuccess();\n      } else {\n        message.error('Gửi đơn thất bại!');\n      }\n    } catch (err) {\n      console.error('Lỗi gửi đơn:', err);\n      message.error('Gửi đơn thất bại!');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Card, {\n    title: \"G\\u1EEDi \\u0111\\u01A1n ngh\\u1EC9 ph\\xE9p\",\n    style: {\n      maxWidth: 500,\n      margin: '32px auto'\n    },\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      form: form,\n      layout: \"vertical\",\n      onFinish: onFinish,\n      children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n        name: \"nhan_vien_id\",\n        label: \"Nh\\xE2n vi\\xEAn\",\n        rules: [{\n          required: true\n        }],\n        children: /*#__PURE__*/_jsxDEV(Select, {\n          showSearch: true,\n          optionFilterProp: \"children\",\n          children: nhanVienList.map(nv => /*#__PURE__*/_jsxDEV(Select.Option, {\n            value: nv.id,\n            children: [nv.ma_nhan_vien, \" - \", nv.ten]\n          }, nv.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        name: \"ngay_nghi\",\n        label: \"Ng\\xE0y ngh\\u1EC9\",\n        rules: [{\n          required: true\n        }],\n        children: /*#__PURE__*/_jsxDEV(DatePicker, {\n          style: {\n            width: '100%'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        name: \"loai_nghi\",\n        label: \"Lo\\u1EA1i ngh\\u1EC9\",\n        initialValue: \"ca_ngay\",\n        children: /*#__PURE__*/_jsxDEV(Select, {\n          children: [/*#__PURE__*/_jsxDEV(Select.Option, {\n            value: \"ca_ngay\",\n            children: \"C\\u1EA3 ng\\xE0y\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Select.Option, {\n            value: \"nua_ngay\",\n            children: \"N\\u1EEDa ng\\xE0y\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Select.Option, {\n            value: \"theo_gio\",\n            children: \"Theo gi\\u1EDD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        name: \"thoi_gian_bat_dau\",\n        label: \"Th\\u1EDDi gian b\\u1EAFt \\u0111\\u1EA7u\",\n        children: /*#__PURE__*/_jsxDEV(TimePicker, {\n          format: \"HH:mm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        name: \"thoi_gian_ket_thuc\",\n        label: \"Th\\u1EDDi gian k\\u1EBFt th\\xFAc\",\n        children: /*#__PURE__*/_jsxDEV(TimePicker, {\n          format: \"HH:mm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        name: \"ly_do\",\n        label: \"L\\xFD do\",\n        children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"primary\",\n          htmlType: \"submit\",\n          children: \"G\\u1EEDi \\u0111\\u01A1n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\n_s(DonNghiPhepForm, \"YHOGLnKMs1oOkBo83Fp5TjREb3s=\", false, function () {\n  return [Form.useForm];\n});\n_c = DonNghiPhepForm;\nexport default DonNghiPhepForm;\nvar _c;\n$RefreshReg$(_c, \"DonNghiPhepForm\");","map":{"version":3,"names":["React","useEffect","useState","Form","Input","DatePicker","TimePicker","Select","Button","Card","message","nghiPhepService","nhanVienService","jsxDEV","_jsxDEV","DonNghiPhepForm","onSuccess","_s","form","useForm","nhanVienList","setNhanVienList","getAll","then","data","onFinish","values","console","log","res","create","ngay_nghi","format","thoi_gian_bat_dau","undefined","thoi_gian_ket_thuc","success","resetFields","error","err","title","style","maxWidth","margin","children","layout","Item","name","label","rules","required","showSearch","optionFilterProp","map","nv","Option","value","id","ma_nhan_vien","ten","fileName","_jsxFileName","lineNumber","columnNumber","width","initialValue","type","htmlType","_c","$RefreshReg$"],"sources":["E:/Du_An_300tr/frontend/src/components/NghiPhep/DonNghiPhepForm.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Form, Input, DatePicker, TimePicker, Select, Button, Card, message } from 'antd';\r\nimport { nghiPhepService } from '../../services/nghiPhepService';\r\nimport { nhanVienService } from '../../services/nhanVienService';\r\n\r\nconst DonNghiPhepForm = ({ onSuccess }) => {\r\n  const [form] = Form.useForm();\r\n  const [nhanVienList, setNhanVienList] = useState([]);\r\n\r\n  useEffect(() => {\r\n    // Gọi API lấy danh sách nhân viên\r\n    // Giả sử có nhanVienService.getAll()\r\n    nhanVienService.getAll().then(data => setNhanVienList(data));\r\n  }, []);\r\n\r\n  const onFinish = async (values) => {\r\n    console.log('Submit values:', values);\r\n    try {\r\n      const res = await nghiPhepService.create({\r\n        ...values,\r\n        ngay_nghi: values.ngay_nghi.format('YYYY-MM-DD'),\r\n        thoi_gian_bat_dau: values.thoi_gian_bat_dau ? values.thoi_gian_bat_dau.format('HH:mm') : undefined,\r\n        thoi_gian_ket_thuc: values.thoi_gian_ket_thuc ? values.thoi_gian_ket_thuc.format('HH:mm') : undefined\r\n      });\r\n      console.log('Kết quả gửi đơn:', res);\r\n      if (res.success) {\r\n        message.success('Gửi đơn thành công!');\r\n        form.resetFields();\r\n        onSuccess && onSuccess();\r\n      } else {\r\n        message.error('Gửi đơn thất bại!');\r\n      }\r\n    } catch (err) {\r\n      console.error('Lỗi gửi đơn:', err);\r\n      message.error('Gửi đơn thất bại!');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card title=\"Gửi đơn nghỉ phép\" style={{ maxWidth: 500, margin: '32px auto' }}>\r\n      <Form form={form} layout=\"vertical\" onFinish={onFinish}>\r\n        <Form.Item name=\"nhan_vien_id\" label=\"Nhân viên\" rules={[{ required: true }]}>\r\n          <Select showSearch optionFilterProp=\"children\">\r\n            {nhanVienList.map(nv => (\r\n              <Select.Option key={nv.id} value={nv.id}>\r\n                {nv.ma_nhan_vien} - {nv.ten}\r\n              </Select.Option>\r\n            ))}\r\n          </Select>\r\n        </Form.Item>\r\n        <Form.Item name=\"ngay_nghi\" label=\"Ngày nghỉ\" rules={[{ required: true }]}>\r\n          <DatePicker style={{ width: '100%' }} />\r\n        </Form.Item>\r\n        <Form.Item name=\"loai_nghi\" label=\"Loại nghỉ\" initialValue=\"ca_ngay\">\r\n          <Select>\r\n            <Select.Option value=\"ca_ngay\">Cả ngày</Select.Option>\r\n            <Select.Option value=\"nua_ngay\">Nửa ngày</Select.Option>\r\n            <Select.Option value=\"theo_gio\">Theo giờ</Select.Option>\r\n          </Select>\r\n        </Form.Item>\r\n        <Form.Item name=\"thoi_gian_bat_dau\" label=\"Thời gian bắt đầu\">\r\n          <TimePicker format=\"HH:mm\" />\r\n        </Form.Item>\r\n        <Form.Item name=\"thoi_gian_ket_thuc\" label=\"Thời gian kết thúc\">\r\n          <TimePicker format=\"HH:mm\" />\r\n        </Form.Item>\r\n        <Form.Item name=\"ly_do\" label=\"Lý do\">\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item>\r\n          <Button type=\"primary\" htmlType=\"submit\">Gửi đơn</Button>\r\n        </Form.Item>\r\n      </Form>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default DonNghiPhepForm; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}