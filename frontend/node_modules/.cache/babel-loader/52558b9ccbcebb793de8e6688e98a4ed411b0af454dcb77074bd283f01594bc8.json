{"ast":null,"code":"var _jsxFileName = \"E:\\\\Du_An_300tr\\\\frontend\\\\src\\\\components\\\\ChamCong\\\\CheckIn.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useCallback } from 'react';\nimport { Card, Button, Alert, Typography, Space, Result, Spin } from 'antd';\nimport { CheckCircleOutlined } from '@ant-design/icons';\nimport { chamCongService } from '../../services/chamCongService';\nimport FaceRecognition from './FaceRecognition';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Title,\n  Text\n} = Typography;\nconst CheckIn = () => {\n  _s();\n  const [message, setMessage] = useState('');\n  const [checkInStatus, setCheckInStatus] = useState('idle');\n  const [lastCheckIn, setLastCheckIn] = useState(null);\n  const handleCheckIn = useCallback(async faceDescriptor => {\n    setCheckInStatus('processing');\n    setMessage('');\n    try {\n      const result = await chamCongService.checkIn({\n        face_descriptor: Array.from(faceDescriptor)\n      });\n      if (result.success) {\n        setCheckInStatus('success');\n        setLastCheckIn(result.data);\n        setMessage(result.message || 'Chấm công thành công!');\n      } else {\n        setCheckInStatus('error');\n        setMessage(result.message || 'Không nhận diện được khuôn mặt');\n      }\n    } catch (e) {\n      setCheckInStatus('error');\n      setMessage('Lỗi hệ thống');\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Card, {\n    style: {\n      maxWidth: 500,\n      margin: '32px auto',\n      boxShadow: '0 2px 12px rgba(0,0,0,0.08)'\n    },\n    title: /*#__PURE__*/_jsxDEV(Title, {\n      level: 3,\n      style: {\n        margin: 0,\n        textAlign: 'center'\n      },\n      children: \"\\uD83D\\uDFE2 Ch\\u1EA5m c\\xF4ng b\\u1EB1ng khu\\xF4n m\\u1EB7t\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 14\n    }, this),\n    children: /*#__PURE__*/_jsxDEV(Space, {\n      direction: \"vertical\",\n      style: {\n        width: '100%'\n      },\n      size: \"large\",\n      children: [checkInStatus === 'processing' && /*#__PURE__*/_jsxDEV(Spin, {\n        tip: \"\\u0110ang x\\xE1c th\\u1EF1c khu\\xF4n m\\u1EB7t...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 44\n      }, this), message && /*#__PURE__*/_jsxDEV(Alert, {\n        message: message,\n        type: checkInStatus === 'success' ? 'success' : checkInStatus === 'error' ? 'error' : 'info',\n        showIcon: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }, this), lastCheckIn && lastCheckIn.nhan_vien && /*#__PURE__*/_jsxDEV(Result, {\n        icon: /*#__PURE__*/_jsxDEV(CheckCircleOutlined, {\n          style: {\n            color: '#52c41a'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 19\n        }, this),\n        title: \"Ch\\u1EA5m c\\xF4ng th\\xE0nh c\\xF4ng!\",\n        subTitle: /*#__PURE__*/_jsxDEV(Space, {\n          direction: \"vertical\",\n          size: 0,\n          children: [/*#__PURE__*/_jsxDEV(Text, {\n            strong: true,\n            children: [\"\\uD83D\\uDC64 Nh\\xE2n vi\\xEAn: \", lastCheckIn.nhan_vien.ten]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Text, {\n            children: [\"\\uD83C\\uDD94 M\\xE3 NV: \", lastCheckIn.nhan_vien.ma_nhan_vien]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Text, {\n            children: [\"\\uD83D\\uDCC5 Ng\\xE0y: \", lastCheckIn.ngay || '-']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Text, {\n            children: [\"\\uD83D\\uDD52 Gi\\u1EDD v\\xE0o: \", lastCheckIn.gio_vao || '-']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Text, {\n            children: [\"\\uD83D\\uDD54 Gi\\u1EDD ra: \", lastCheckIn.gio_ra || '-']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Text, {\n            type: \"success\",\n            children: [\"\\uD83D\\uDCCA Tr\\u1EA1ng th\\xE1i: \", lastCheckIn.trang_thai || '-']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(FaceRecognition, {\n        onCheckIn: handleCheckIn,\n        mode: \"checkin\",\n        disabled: checkInStatus === 'processing'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        size: \"small\",\n        style: {\n          background: '#f4f8fb',\n          borderRadius: 10,\n          textAlign: 'center'\n        },\n        bodyStyle: {\n          padding: 12\n        },\n        children: [/*#__PURE__*/_jsxDEV(Text, {\n          strong: true,\n          children: \"\\uD83D\\uDD50 Th\\u1EDDi gian hi\\u1EC7n t\\u1EA1i:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: 20,\n            color: '#007bff',\n            fontWeight: 700\n          },\n          children: new Date().toLocaleString('vi-VN')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n};\n_s(CheckIn, \"JGlF5jMgQsXxltpm7P090F0zGys=\");\n_c = CheckIn;\nexport default CheckIn;\nvar _c;\n$RefreshReg$(_c, \"CheckIn\");","map":{"version":3,"names":["React","useState","useCallback","Card","Button","Alert","Typography","Space","Result","Spin","CheckCircleOutlined","chamCongService","FaceRecognition","jsxDEV","_jsxDEV","Title","Text","CheckIn","_s","message","setMessage","checkInStatus","setCheckInStatus","lastCheckIn","setLastCheckIn","handleCheckIn","faceDescriptor","result","checkIn","face_descriptor","Array","from","success","data","e","style","maxWidth","margin","boxShadow","title","level","textAlign","children","fileName","_jsxFileName","lineNumber","columnNumber","direction","width","size","tip","type","showIcon","nhan_vien","icon","color","subTitle","strong","ten","ma_nhan_vien","ngay","gio_vao","gio_ra","trang_thai","onCheckIn","mode","disabled","background","borderRadius","bodyStyle","padding","fontSize","fontWeight","Date","toLocaleString","_c","$RefreshReg$"],"sources":["E:/Du_An_300tr/frontend/src/components/ChamCong/CheckIn.jsx"],"sourcesContent":["import React, { useState, useCallback } from 'react';\nimport { Card, Button, Alert, Typography, Space, Result, Spin } from 'antd';\nimport { CheckCircleOutlined } from '@ant-design/icons';\nimport { chamCongService } from '../../services/chamCongService';\nimport FaceRecognition from './FaceRecognition';\n\nconst { Title, Text } = Typography;\n\nconst CheckIn = () => {\n  const [message, setMessage] = useState('');\n  const [checkInStatus, setCheckInStatus] = useState('idle');\n  const [lastCheckIn, setLastCheckIn] = useState(null);\n\n  const handleCheckIn = useCallback(async (faceDescriptor) => {\n    setCheckInStatus('processing');\n    setMessage('');\n    try {\n      const result = await chamCongService.checkIn({ face_descriptor: Array.from(faceDescriptor) });\n      if (result.success) {\n        setCheckInStatus('success');\n        setLastCheckIn(result.data);\n        setMessage(result.message || 'Chấm công thành công!');\n      } else {\n        setCheckInStatus('error');\n        setMessage(result.message || 'Không nhận diện được khuôn mặt');\n      }\n    } catch (e) {\n      setCheckInStatus('error');\n      setMessage('Lỗi hệ thống');\n    }\n  }, []);\n\n  return (\n    <Card\n      style={{ maxWidth: 500, margin: '32px auto', boxShadow: '0 2px 12px rgba(0,0,0,0.08)' }}\n      title={<Title level={3} style={{ margin: 0, textAlign: 'center' }}>🟢 Chấm công bằng khuôn mặt</Title>}\n    >\n      <Space direction=\"vertical\" style={{ width: '100%' }} size=\"large\">\n        {checkInStatus === 'processing' && <Spin tip=\"Đang xác thực khuôn mặt...\" />}\n        {message && (\n          <Alert\n            message={message}\n            type={checkInStatus === 'success' ? 'success' : checkInStatus === 'error' ? 'error' : 'info'}\n            showIcon\n          />\n        )}\n\n        {lastCheckIn && lastCheckIn.nhan_vien && (\n          <Result\n            icon={<CheckCircleOutlined style={{ color: '#52c41a' }} />}\n            title=\"Chấm công thành công!\"\n            subTitle={\n              <Space direction=\"vertical\" size={0}>\n                <Text strong>👤 Nhân viên: {lastCheckIn.nhan_vien.ten}</Text>\n                <Text>🆔 Mã NV: {lastCheckIn.nhan_vien.ma_nhan_vien}</Text>\n                <Text>📅 Ngày: {lastCheckIn.ngay || '-'}</Text>\n                <Text>🕒 Giờ vào: {lastCheckIn.gio_vao || '-'}</Text>\n                <Text>🕔 Giờ ra: {lastCheckIn.gio_ra || '-'}</Text>\n                <Text type=\"success\">📊 Trạng thái: {lastCheckIn.trang_thai || '-'}</Text>\n              </Space>\n            }\n          />\n        )}\n\n        <FaceRecognition\n          onCheckIn={handleCheckIn}\n          mode=\"checkin\"\n          disabled={checkInStatus === 'processing'}\n        />\n\n        <Card\n          size=\"small\"\n          style={{ background: '#f4f8fb', borderRadius: 10, textAlign: 'center' }}\n          bodyStyle={{ padding: 12 }}\n        >\n          <Text strong>🕐 Thời gian hiện tại:</Text>\n          <div style={{ fontSize: 20, color: '#007bff', fontWeight: 700 }}>\n            {new Date().toLocaleString('vi-VN')}\n          </div>\n        </Card>\n      </Space>\n    </Card>\n  );\n};\n\nexport default CheckIn;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}