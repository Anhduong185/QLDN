{"ast":null,"code":"var _jsxFileName = \"E:\\\\Du_An_300tr\\\\frontend\\\\src\\\\components\\\\NghiPhep\\\\DonNghiPhepForm.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Form, Input, DatePicker, TimePicker, Select, Button, Card, message } from 'antd';\nimport { nghiPhepService } from '../../services/nghiPhepService';\nimport { nhanVienService } from '../../services/nhanVienService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DonNghiPhepForm = ({\n  onSuccess\n}) => {\n  _s();\n  const [form] = Form.useForm();\n  const [nhanVienList, setNhanVienList] = useState([]);\n  useEffect(() => {\n    // Gọi API lấy danh sách nhân viên\n    // Giả sử có nhanVienService.getAll()\n    nhanVienService.getAll().then(data => setNhanVienList(data));\n  }, []);\n  const onFinish = async values => {\n    const res = await nghiPhepService.create({\n      ...values,\n      ngay_nghi: values.ngay_nghi.format('YYYY-MM-DD'),\n      thoi_gian_bat_dau: values.thoi_gian_bat_dau ? values.thoi_gian_bat_dau.format('HH:mm') : undefined,\n      thoi_gian_ket_thuc: values.thoi_gian_ket_thuc ? values.thoi_gian_ket_thuc.format('HH:mm') : undefined\n    });\n    if (res.success) {\n      message.success('Gửi đơn thành công!');\n      form.resetFields();\n      onSuccess && onSuccess();\n    } else {\n      message.error('Gửi đơn thất bại!');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Card, {\n    title: \"G\\u1EEDi \\u0111\\u01A1n ngh\\u1EC9 ph\\xE9p\",\n    style: {\n      maxWidth: 500,\n      margin: '32px auto'\n    },\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      form: form,\n      layout: \"vertical\",\n      onFinish: onFinish,\n      children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n        name: \"nhan_vien_id\",\n        label: \"Nh\\xE2n vi\\xEAn\",\n        rules: [{\n          required: true\n        }],\n        children: /*#__PURE__*/_jsxDEV(Select, {\n          showSearch: true,\n          optionFilterProp: \"children\",\n          children: nhanVienList.map(nv => /*#__PURE__*/_jsxDEV(Select.Option, {\n            value: nv.id,\n            children: [nv.ma_nhan_vien, \" - \", nv.ten]\n          }, nv.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        name: \"ngay_nghi\",\n        label: \"Ng\\xE0y ngh\\u1EC9\",\n        rules: [{\n          required: true\n        }],\n        children: [\" \", /*#__PURE__*/_jsxDEV(DatePicker, {\n          style: {\n            width: '100%'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 85\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        name: \"loai_nghi\",\n        label: \"Lo\\u1EA1i ngh\\u1EC9\",\n        initialValue: \"ca_ngay\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(Select, {\n          children: [\" \", /*#__PURE__*/_jsxDEV(Select.Option, {\n            value: \"ca_ngay\",\n            children: \"C\\u1EA3 ng\\xE0y\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 88\n          }, this), \" \", /*#__PURE__*/_jsxDEV(Select.Option, {\n            value: \"nua_ngay\",\n            children: \"N\\u1EEDa ng\\xE0y\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 143\n          }, this), \" \", /*#__PURE__*/_jsxDEV(Select.Option, {\n            value: \"theo_gio\",\n            children: \"Theo gi\\u1EDD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 200\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 79\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        name: \"thoi_gian_bat_dau\",\n        label: \"Th\\u1EDDi gian b\\u1EAFt \\u0111\\u1EA7u\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(TimePicker, {\n          format: \"HH:mm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 72\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        name: \"thoi_gian_ket_thuc\",\n        label: \"Th\\u1EDDi gian k\\u1EBFt th\\xFAc\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(TimePicker, {\n          format: \"HH:mm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 74\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        name: \"ly_do\",\n        label: \"L\\xFD do\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 48\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"primary\",\n        htmlType: \"submit\",\n        children: \"G\\u1EEDi \\u0111\\u01A1n\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n};\n_s(DonNghiPhepForm, \"YHOGLnKMs1oOkBo83Fp5TjREb3s=\", false, function () {\n  return [Form.useForm];\n});\n_c = DonNghiPhepForm;\nexport default DonNghiPhepForm;\nvar _c;\n$RefreshReg$(_c, \"DonNghiPhepForm\");","map":{"version":3,"names":["React","useEffect","useState","Form","Input","DatePicker","TimePicker","Select","Button","Card","message","nghiPhepService","nhanVienService","jsxDEV","_jsxDEV","DonNghiPhepForm","onSuccess","_s","form","useForm","nhanVienList","setNhanVienList","getAll","then","data","onFinish","values","res","create","ngay_nghi","format","thoi_gian_bat_dau","undefined","thoi_gian_ket_thuc","success","resetFields","error","title","style","maxWidth","margin","children","layout","Item","name","label","rules","required","showSearch","optionFilterProp","map","nv","Option","value","id","ma_nhan_vien","ten","fileName","_jsxFileName","lineNumber","columnNumber","width","initialValue","type","htmlType","_c","$RefreshReg$"],"sources":["E:/Du_An_300tr/frontend/src/components/NghiPhep/DonNghiPhepForm.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Form, Input, DatePicker, TimePicker, Select, Button, Card, message } from 'antd';\r\nimport { nghiPhepService } from '../../services/nghiPhepService';\r\nimport { nhanVienService } from '../../services/nhanVienService';\r\n\r\nconst DonNghiPhepForm = ({ onSuccess }) => {\r\n  const [form] = Form.useForm();\r\n  const [nhanVienList, setNhanVienList] = useState([]);\r\n\r\n  useEffect(() => {\r\n    // Gọi API lấy danh sách nhân viên\r\n    // Giả sử có nhanVienService.getAll()\r\n    nhanVienService.getAll().then(data => setNhanVienList(data));\r\n  }, []);\r\n\r\n  const onFinish = async (values) => {\r\n    const res = await nghiPhepService.create({\r\n      ...values,\r\n      ngay_nghi: values.ngay_nghi.format('YYYY-MM-DD'),\r\n      thoi_gian_bat_dau: values.thoi_gian_bat_dau ? values.thoi_gian_bat_dau.format('HH:mm') : undefined,\r\n      thoi_gian_ket_thuc: values.thoi_gian_ket_thuc ? values.thoi_gian_ket_thuc.format('HH:mm') : undefined\r\n    });\r\n    if (res.success) {\r\n      message.success('Gửi đơn thành công!');\r\n      form.resetFields();\r\n      onSuccess && onSuccess();\r\n    } else {\r\n      message.error('Gửi đơn thất bại!');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card title=\"Gửi đơn nghỉ phép\" style={{ maxWidth: 500, margin: '32px auto' }}>\r\n      <Form form={form} layout=\"vertical\" onFinish={onFinish}>\r\n        <Form.Item name=\"nhan_vien_id\" label=\"Nhân viên\" rules={[{ required: true }]}>\r\n          <Select showSearch optionFilterProp=\"children\">\r\n            {nhanVienList.map(nv => (\r\n              <Select.Option key={nv.id} value={nv.id}>\r\n                {nv.ma_nhan_vien} - {nv.ten}\r\n              </Select.Option>\r\n            ))}\r\n          </Select>\r\n        </Form.Item>\r\n        <Form.Item name=\"ngay_nghi\" label=\"Ngày nghỉ\" rules={[{ required: true }]}> <DatePicker style={{ width: '100%' }} /> </Form.Item>\r\n        <Form.Item name=\"loai_nghi\" label=\"Loại nghỉ\" initialValue=\"ca_ngay\"> <Select> <Select.Option value=\"ca_ngay\">Cả ngày</Select.Option> <Select.Option value=\"nua_ngay\">Nửa ngày</Select.Option> <Select.Option value=\"theo_gio\">Theo giờ</Select.Option> </Select> </Form.Item>\r\n        <Form.Item name=\"thoi_gian_bat_dau\" label=\"Thời gian bắt đầu\"> <TimePicker format=\"HH:mm\" /> </Form.Item>\r\n        <Form.Item name=\"thoi_gian_ket_thuc\" label=\"Thời gian kết thúc\"> <TimePicker format=\"HH:mm\" /> </Form.Item>\r\n        <Form.Item name=\"ly_do\" label=\"Lý do\"> <Input /> </Form.Item>\r\n        <Button type=\"primary\" htmlType=\"submit\">Gửi đơn</Button>\r\n      </Form>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default DonNghiPhepForm; "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,IAAI,EAAEC,KAAK,EAAEC,UAAU,EAAEC,UAAU,EAAEC,MAAM,EAAEC,MAAM,EAAEC,IAAI,EAAEC,OAAO,QAAQ,MAAM;AACzF,SAASC,eAAe,QAAQ,gCAAgC;AAChE,SAASC,eAAe,QAAQ,gCAAgC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEjE,MAAMC,eAAe,GAAGA,CAAC;EAAEC;AAAU,CAAC,KAAK;EAAAC,EAAA;EACzC,MAAM,CAACC,IAAI,CAAC,GAAGf,IAAI,CAACgB,OAAO,CAAC,CAAC;EAC7B,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGnB,QAAQ,CAAC,EAAE,CAAC;EAEpDD,SAAS,CAAC,MAAM;IACd;IACA;IACAW,eAAe,CAACU,MAAM,CAAC,CAAC,CAACC,IAAI,CAACC,IAAI,IAAIH,eAAe,CAACG,IAAI,CAAC,CAAC;EAC9D,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,QAAQ,GAAG,MAAOC,MAAM,IAAK;IACjC,MAAMC,GAAG,GAAG,MAAMhB,eAAe,CAACiB,MAAM,CAAC;MACvC,GAAGF,MAAM;MACTG,SAAS,EAAEH,MAAM,CAACG,SAAS,CAACC,MAAM,CAAC,YAAY,CAAC;MAChDC,iBAAiB,EAAEL,MAAM,CAACK,iBAAiB,GAAGL,MAAM,CAACK,iBAAiB,CAACD,MAAM,CAAC,OAAO,CAAC,GAAGE,SAAS;MAClGC,kBAAkB,EAAEP,MAAM,CAACO,kBAAkB,GAAGP,MAAM,CAACO,kBAAkB,CAACH,MAAM,CAAC,OAAO,CAAC,GAAGE;IAC9F,CAAC,CAAC;IACF,IAAIL,GAAG,CAACO,OAAO,EAAE;MACfxB,OAAO,CAACwB,OAAO,CAAC,qBAAqB,CAAC;MACtChB,IAAI,CAACiB,WAAW,CAAC,CAAC;MAClBnB,SAAS,IAAIA,SAAS,CAAC,CAAC;IAC1B,CAAC,MAAM;MACLN,OAAO,CAAC0B,KAAK,CAAC,mBAAmB,CAAC;IACpC;EACF,CAAC;EAED,oBACEtB,OAAA,CAACL,IAAI;IAAC4B,KAAK,EAAC,0CAAmB;IAACC,KAAK,EAAE;MAAEC,QAAQ,EAAE,GAAG;MAAEC,MAAM,EAAE;IAAY,CAAE;IAAAC,QAAA,eAC5E3B,OAAA,CAACX,IAAI;MAACe,IAAI,EAAEA,IAAK;MAACwB,MAAM,EAAC,UAAU;MAACjB,QAAQ,EAAEA,QAAS;MAAAgB,QAAA,gBACrD3B,OAAA,CAACX,IAAI,CAACwC,IAAI;QAACC,IAAI,EAAC,cAAc;QAACC,KAAK,EAAC,iBAAW;QAACC,KAAK,EAAE,CAAC;UAAEC,QAAQ,EAAE;QAAK,CAAC,CAAE;QAAAN,QAAA,eAC3E3B,OAAA,CAACP,MAAM;UAACyC,UAAU;UAACC,gBAAgB,EAAC,UAAU;UAAAR,QAAA,EAC3CrB,YAAY,CAAC8B,GAAG,CAACC,EAAE,iBAClBrC,OAAA,CAACP,MAAM,CAAC6C,MAAM;YAAaC,KAAK,EAAEF,EAAE,CAACG,EAAG;YAAAb,QAAA,GACrCU,EAAE,CAACI,YAAY,EAAC,KAAG,EAACJ,EAAE,CAACK,GAAG;UAAA,GADTL,EAAE,CAACG,EAAE;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAEV,CAChB;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACI;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA,CAAC,eACZ9C,OAAA,CAACX,IAAI,CAACwC,IAAI;QAACC,IAAI,EAAC,WAAW;QAACC,KAAK,EAAC,mBAAW;QAACC,KAAK,EAAE,CAAC;UAAEC,QAAQ,EAAE;QAAK,CAAC,CAAE;QAAAN,QAAA,GAAC,GAAC,eAAA3B,OAAA,CAACT,UAAU;UAACiC,KAAK,EAAE;YAAEuB,KAAK,EAAE;UAAO;QAAE;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,KAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAW,CAAC,eACjI9C,OAAA,CAACX,IAAI,CAACwC,IAAI;QAACC,IAAI,EAAC,WAAW;QAACC,KAAK,EAAC,qBAAW;QAACiB,YAAY,EAAC,SAAS;QAAArB,QAAA,GAAC,GAAC,eAAA3B,OAAA,CAACP,MAAM;UAAAkC,QAAA,GAAC,GAAC,eAAA3B,OAAA,CAACP,MAAM,CAAC6C,MAAM;YAACC,KAAK,EAAC,SAAS;YAAAZ,QAAA,EAAC;UAAO;YAAAgB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAe,CAAC,KAAC,eAAA9C,OAAA,CAACP,MAAM,CAAC6C,MAAM;YAACC,KAAK,EAAC,UAAU;YAAAZ,QAAA,EAAC;UAAQ;YAAAgB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAe,CAAC,KAAC,eAAA9C,OAAA,CAACP,MAAM,CAAC6C,MAAM;YAACC,KAAK,EAAC,UAAU;YAAAZ,QAAA,EAAC;UAAQ;YAAAgB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAe,CAAC,KAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,KAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAW,CAAC,eAC9Q9C,OAAA,CAACX,IAAI,CAACwC,IAAI;QAACC,IAAI,EAAC,mBAAmB;QAACC,KAAK,EAAC,uCAAmB;QAAAJ,QAAA,GAAC,GAAC,eAAA3B,OAAA,CAACR,UAAU;UAACwB,MAAM,EAAC;QAAO;UAAA2B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,KAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAW,CAAC,eACzG9C,OAAA,CAACX,IAAI,CAACwC,IAAI;QAACC,IAAI,EAAC,oBAAoB;QAACC,KAAK,EAAC,iCAAoB;QAAAJ,QAAA,GAAC,GAAC,eAAA3B,OAAA,CAACR,UAAU;UAACwB,MAAM,EAAC;QAAO;UAAA2B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,KAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAW,CAAC,eAC3G9C,OAAA,CAACX,IAAI,CAACwC,IAAI;QAACC,IAAI,EAAC,OAAO;QAACC,KAAK,EAAC,UAAO;QAAAJ,QAAA,GAAC,GAAC,eAAA3B,OAAA,CAACV,KAAK;UAAAqD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,KAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAW,CAAC,eAC7D9C,OAAA,CAACN,MAAM;QAACuD,IAAI,EAAC,SAAS;QAACC,QAAQ,EAAC,QAAQ;QAAAvB,QAAA,EAAC;MAAO;QAAAgB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACrD;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEX,CAAC;AAAC3C,EAAA,CA/CIF,eAAe;EAAA,QACJZ,IAAI,CAACgB,OAAO;AAAA;AAAA8C,EAAA,GADvBlD,eAAe;AAiDrB,eAAeA,eAAe;AAAC,IAAAkD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}